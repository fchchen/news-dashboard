<div class="page-container">
  <h1>AI on Hacker News</h1>
  <p class="subtitle">AI-filtered stories from Hacker News, tagged by company</p>

  @if (isLoading()) {
    <div class="loading-spinner">
      <mat-spinner diameter="40"></mat-spinner>
    </div>
  } @else {
    @for (item of items(); track item.id) {
      <app-news-card [item]="item" />
    } @empty {
      <mat-card class="empty-state">
        <mat-icon>search_off</mat-icon>
        <p>No AI-related stories found yet. Data will appear after the first background fetch.</p>
      </mat-card>
    }

    @if (totalCount() > 0) {
      <mat-paginator
        [length]="totalCount()"
        [pageSize]="pageSize()"
        [pageIndex]="page() - 1"
        [pageSizeOptions]="[10, 20, 50]"
        (page)="onPageChange($event)"
        showFirstLastButtons>
      </mat-paginator>
    }
  }
</div>
